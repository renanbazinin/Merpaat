<html>
<head>
    <script>
        var openFile = function (event) {
            
        var input = event.target;
        
        var reader = new FileReader();
        reader.onload = function(){
            var text = reader.result;
            var newtext = text.toString().split("\n")
            for (var i = 0; i < newtext.length; i++) {

              //  alert(newtext[i]);
                
            }

          var node = document.getElementById('output');
          node.innerText = text;
          console.log(reader.result.substring(0, 200));
        };
        reader.readAsText(input.files[0]);
      };

        function Yep() {
            var file = document.getElementById("d.txt").files[0];

            if (file) {
                getAsText(file);
                
            }
          
      }
        function getAsText(readFile) {
            var reader;
            try {
                reader = new FileReader();
            } catch (e) {
                document.getElementById('output').innerHTML =
                    "Error: seems File API is not supported on your browser";
                return;
            }

            // Read file into memory as UTF-8      
            reader.readAsText(readFile, "UTF-8");

            // Handle progress, success, and errors

            reader.onload = loaded;
            reader.onerror = errorHandler;
        }
    </script>
</head>
<body>
    <input type='file' accept='text/plain' onchange='openFile(event)' value="d.txt" onload='openFile(event)'><br>
    <button type="button" onclick="Yep()" value="heyy">hey</button>
    <div id='output'>
        ...
    </div>

    <pre>
    <code id="output">
            </code>
        </pre>
</body>
</html>